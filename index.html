<!doctype html><html lang="en"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Minecraft Bedrock Blockly Script Builder</title><style>:root{--accent:#4f46e5;--muted:#6b7280}html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial}.app{display:flex;flex-direction:column;height:100vh}header{display:flex;align-items:center;gap:12px;padding:10px 14px;background:linear-gradient(90deg,#0f172a00,#fff);border-bottom:1px solid #eee}header h1{font-size:16px;margin:0}.main{display:flex;flex:1;overflow:hidden}.sidebar{width:320px;min-width:220px;max-width:420px;border-right:1px solid #eee;display:flex;flex-direction:column;padding:12px;gap:10px;overflow:auto}.pane{flex:1;display:flex;flex-direction:column}label{font-size:13px;color:var(--muted)}input,textarea,select{width:100%;padding:8px;margin-top:6px;border-radius:8px;border:1px solid #ddd;font-size:14px}.btn{display:inline-flex;align-items:center;gap:8px;padding:10px 12px;border-radius:10px;border:0;background:var(--accent);color:white;cursor:pointer}.btn.secondary{background:#e6e9ff;color:#0f172a}.workspace{flex:1;display:flex;flex-direction:column}#blocklyDiv{flex:1;height:100%;min-height:320px}.footer{display:flex;gap:8px;padding:8px;border-top:1px solid #eee}.muted{color:var(--muted);font-size:13px}@media(max-width:900px){.main{flex-direction:column}.sidebar{width:100%;max-height:36vh;border-right:0;border-bottom:1px solid #eee}header h1{font-size:15px}}</style><script src="https://unpkg.com/blockly/blockly.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script></head><body><div class="app"><header><h1>Minecraft Bedrock Script Builder</h1><div style="flex:1"></div><button id="resetWorkspace" class="btn secondary">Reset</button><button id="downloadBtn" class="btn">Download Add-on</button><button id="exportCodeBtn" class="btn secondary">Export JS</button></header><div class="main"><aside class="sidebar"><div><label>Workspace name</label><input id="workspaceName" placeholder="MyAddon" value="MyBehaviorPack"/></div><div><label>Script entry filename</label><input id="entryFile" value="scripts/main.js"/></div><div><label>Code preview</label><textarea id="codePreview" rows="6" readonly style="font-family:monospace;white-space:pre-wrap"></textarea></div><div style="margin-top:6px"><label>Quick actions</label><div style="display:flex;gap:8px;margin-top:8px"><button id="runPreview" class="btn secondary">Generate Code</button><button id="clearWorkspace" class="btn secondary">Clear Blocks</button></div></div><div style="margin-top:12px"><label>Templates</label><div style="display:flex;flex-wrap:wrap;gap:8px;margin-top:8px"><button id="exampleHello" class="btn">Hello Message</button><button id="exampleTick" class="btn">Periodic Message</button><button id="exampleJoin" class="btn">Player Join</button></div></div></aside><section class="workspace"><div id="blocklyDiv"></div><div class="footer"><div class="muted">Drag blocks from the toolbox to build your script.</div></div></section></div></div><xml id="toolbox" style="display:none"><category name="Logic" colour="#5C81A6"><block type="controls_if"></block><block type="logic_compare"></block><block type="logic_operation"></block></category><category name="Loops" colour="#5CA65C"><block type="controls_repeat_ext"><value name="TIMES"><shadow type="math_number"><field name="NUM">10</field></shadow></value></block><block type="controls_whileUntil"></block></category><category name="Functions" colour="#8A55D7"><block type="procedures_defnoreturn"></block><block type="procedures_callnoreturn"></block></category><category name="Minecraft API" colour="#D67E00"><block type="mc_import"/><block type="mc_send_message"><value name="MSG"><shadow type="text"><field name="TEXT">Hello from Blockly!</field></shadow></value></block><block type="mc_on_tick"></block><block type="mc_on_player_join"></block></category><category name="Text" colour="#5CA6A6"><block type="text"></block><block type="text_join"></block></category><category name="Variables" custom="VARIABLE" colour="#A65C5C"></category></xml><script>const workspace=Blockly.inject("blocklyDiv",{toolbox:document.getElementById("toolbox"),scrollbars:!0,trashcan:!0,zoom:{controls:!0,wheel:!0},renderer:"zelos"});Blockly.defineBlocksWithJsonArray([{type:"mc_import",message0:"import %1 from %2",args0:[{type:"field_input",name:"NAMES",text:"{ world, system, events }"},{type:"field_input",name:"MODULE",text:"\"@minecraft/server\""}],previousStatement:null,nextStatement:null,colour:230},{type:"mc_send_message",message0:"world.sendMessage %1",args0:[{type:"input_value",name:"MSG"}],previousStatement:null,nextStatement:null,colour:160},{type:"mc_on_tick",message0:"on tick do %1",args0:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,colour:20},{type:"mc_on_player_join",message0:"on player join do %1",args0:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,colour:60}]);Blockly.JavaScript.mc_import=e=>`import ${e.getFieldValue("NAMES")||"{ }"} from ${e.getFieldValue("MODULE")||'"@minecraft/server"'};\n`;Blockly.JavaScript.mc_send_message=e=>`world.sendMessage(${Blockly.JavaScript.valueToCode(e,"MSG",Blockly.JavaScript.ORDER_ATOMIC)||'"Hello"'});\n`;Blockly.JavaScript.mc_on_tick=e=>`system.runInterval(()=>{\n${Blockly.JavaScript.statementToCode(e,"DO")}},1);\n`;Blockly.JavaScript.mc_on_player_join=e=>`events.playerJoin.subscribe(ev=>{\n${Blockly.JavaScript.statementToCode(e,"DO")}});\n`;function updateCodePreview(){return document.getElementById("codePreview").value=Blockly.JavaScript.workspaceToCode(workspace),document.getElementById("codePreview").value}document.getElementById("runPreview").onclick=updateCodePreview;document.getElementById("exportCodeBtn").onclick=()=>saveAs(new Blob([updateCodePreview()],{type:"text/javascript"}),"main.js");document.getElementById("clearWorkspace").onclick=()=>{workspace.clear(),updateCodePreview()};document.getElementById("resetWorkspace").onclick=()=>{workspace.clear();document.getElementById("exampleHello").click()};document.getElementById("exampleHello").onclick=()=>{workspace.clear(),Blockly.Xml.domToWorkspace(Blockly.Xml.textToDom('<xml><block type="mc_import" x="10" y="10"></block><block type="mc_send_message" x="10" y="120"><value name="MSG"><shadow type="text"><field name="TEXT">Hello from Blockly!</field></shadow></value></block></xml>'),workspace),updateCodePreview()};document.getElementById("exampleTick").onclick=()=>{workspace.clear(),Blockly.Xml.domToWorkspace(Blockly.Xml.textToDom('<xml><block type="mc_import" x="10" y="10"></block><block type="mc_on_tick" x="10" y="120"><statement name="DO"><block type="mc_send_message"><value name="MSG"><shadow type="text"><field name="TEXT">Tick message!</field></shadow></value></block></statement></block></xml>'),workspace),updateCodePreview()};document.getElementById("exampleJoin").onclick=()=>{workspace.clear(),Blockly.Xml.domToWorkspace(Blockly.Xml.textToDom('<xml><block type="mc_import" x="10" y="10"></block><block type="mc_on_player_join" x="10" y="120"><statement name="DO"><block type="mc_send_message"><value name="MSG"><shadow type="text"><field name="TEXT">Welcome player!</field></shadow></value></block></statement></block></xml>'),workspace),updateCodePreview()};async function createAddonZip(){const e=updateCodePreview(),t=(document.getElementById("workspaceName").value||"MyBehaviorPack").replace(/[^a-zA-Z0-9_-]/g,"_"),o={format_version:2,header:{name:t,description:"Generated pack",uuid:crypto.randomUUID(),version:[1,0,0]},modules:[{type:"script",uuid:crypto.randomUUID(),version:[1,0,0],entry:document.getElementById("entryFile").value||"scripts/main.js"}]},n=new JSZip,a=n.folder(t);a.file("manifest.json",JSON.stringify(o,null,2)),a.file(document.getElementById("entryFile").value||"scripts/main.js",e);const c=await n.generateAsync({type:"blob"});saveAs(c,`${t}_behavior_pack.zip`)}document.getElementById("downloadBtn").onclick=createAddonZip;setTimeout(()=>document.getElementById("exampleHello").click(),300);</script></body></html>
